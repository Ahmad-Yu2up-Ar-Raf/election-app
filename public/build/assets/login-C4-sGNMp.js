import{j as e,Y as g,R as j,m as y,t}from"./app-CfOIEjDL.js";import{L as w,A as F}from"./auth-layout-zv1SE_Vy.js";import{F as N,a as i,b as l,c,d as m,e as d,f as u,u as S,s as L,l as v}from"./form-Ch6eYsox.js";import{I as C}from"./label-RQqB3l93.js";import{P as E}from"./password-input-BBZJPlEH.js";import{B as P}from"./button-CqSqPaCO.js";import{C as R}from"./checkbox-i9CWu0N8.js";import"./package-CC8CjXpv.js";import"./index-DD3OdMgl.js";import"./eye-off-CjkX5laN.js";import"./index-Pm3PekgH.js";function I({isPending:s,form:o,onSubmit:x}){return e.jsx(N,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(x),className:"space-y-7  w-full mx-auto ",children:[e.jsx(i,{disabled:s,control:o.control,name:"email",render:({field:r})=>e.jsxs(l,{children:[e.jsx(c,{children:"Email"}),e.jsx(m,{children:e.jsx(C,{placeholder:"email",type:"email",...r})}),e.jsx(d,{children:"This is your public display name."}),e.jsx(u,{})]})}),e.jsx(i,{disabled:s,control:o.control,name:"password",render:({field:r})=>e.jsxs(l,{children:[e.jsxs(c,{className:" flex w-full justify-between",children:[e.jsx("span",{children:"Password"}),e.jsx(g,{className:" underline text-muted-foreground hover:text-accent-foreground",href:"/forgot-password",children:"Forgot Password?"})]}),e.jsx(m,{children:e.jsx(E,{placeholder:"Placeholder",...r})}),e.jsx(d,{children:"Enter your password."}),e.jsx(u,{})]})}),e.jsx(i,{control:o.control,name:"remember",render:({field:r})=>e.jsxs(l,{className:"flex cursor-pointer flex-row items-start space-x-2 space-y-0 rounded-md ",children:[e.jsx(m,{children:e.jsx(R,{checked:r.value,onCheckedChange:r.onChange,className:"  cursor-pointer  border-accent-foreground/40"})}),e.jsxs("div",{className:"space-y-1  cursor-pointer  leading-none",children:[e.jsx(c,{className:"  cursor-pointer",children:"Remember me"}),e.jsx(d,{className:" sr-only",children:"You can manage your mobile notifications in the mobile settings page."}),e.jsx(u,{})]})]})}),e.jsxs(P,{type:"submit",className:"mt-4 w-full cursor-pointer",disabled:s,children:[s&&e.jsx(w,{className:"h-4 w-4 animate-spin"}),"Log in"]})]})})}function z({status:s,canResetPassword:o}){const[x,r]=j.useTransition(),[p,h]=j.useState(!1),n=S({mode:"onSubmit",defaultValues:{email:"",password:"",remember:!1},resolver:L(v)});function f(b){try{r(async()=>{y.post(route("login"),b,{preserveScroll:!0,preserveState:!0,forceFormData:!0,onSuccess:()=>{n.reset(),t.success("Login Succes"),h(!1)},onError:a=>{console.error("Submit error:",a),t.error(`Error: ${Object.values(a).join(", ")}`),h(!1),n.reset()}})})}catch(a){console.error("Form submission error",a),t.error("Failed to submit the form. Please try again.")}}return e.jsx(e.Fragment,{children:e.jsxs(F,{module:"signin",loading:p,title:"Log in to your account",description:"Enter your email and password below to log in",children:[e.jsx(I,{form:n,onSubmit:f,isPending:p}),s&&e.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:s})]})})}export{z as default};
