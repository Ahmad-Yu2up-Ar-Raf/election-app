import{j as s,R as h,m as F,t as u}from"./app-CfOIEjDL.js";import{L as N,A as g}from"./auth-layout-zv1SE_Vy.js";import{F as S,a as n,b as t,c as l,d as i,e as c,f as m,u as E,s as L,r as C}from"./form-Ch6eYsox.js";import{I as y}from"./label-RQqB3l93.js";import{P as f}from"./password-input-BBZJPlEH.js";import{B as v}from"./button-CqSqPaCO.js";import"./package-CC8CjXpv.js";import"./index-DD3OdMgl.js";import"./eye-off-CjkX5laN.js";function R({isPending:r,form:o,onSubmit:x}){return s.jsx(S,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(x),className:"space-y-7  w-full mx-auto ",children:[s.jsx(n,{disabled:r,control:o.control,name:"name",render:({field:e})=>s.jsxs(t,{children:[s.jsx(l,{children:"Email"}),s.jsx(i,{children:s.jsx(y,{placeholder:"name",type:"text",...e})}),s.jsx(c,{className:" sr-only",children:"This is your public display name."}),s.jsx(m,{className:" sr-only"})]})}),s.jsx(n,{disabled:r,control:o.control,name:"email",render:({field:e})=>s.jsxs(t,{children:[s.jsx(l,{children:"Email"}),s.jsx(i,{children:s.jsx(y,{placeholder:"email",type:"email",...e})}),s.jsx(c,{className:" sr-only",children:"This is your email address."}),s.jsx(m,{className:" sr-only"})]})}),s.jsx(n,{disabled:r,control:o.control,name:"password",render:({field:e})=>s.jsxs(t,{children:[s.jsx(l,{children:"Password "}),s.jsx(i,{children:s.jsx(f,{placeholder:"Password",...e})}),s.jsx(c,{className:" sr-only",children:"Enter your password."}),s.jsx(m,{className:" sr-only"})]})}),s.jsx(n,{disabled:r,control:o.control,name:"password_confirmation",render:({field:e})=>s.jsxs(t,{children:[s.jsx(l,{children:"Confirm Password"}),s.jsx(i,{children:s.jsx(f,{placeholder:"Confirmation",...e})}),s.jsx(c,{className:" sr-only",children:"Enter your password."}),s.jsx(m,{className:" sr-only"})]})}),s.jsxs(v,{type:"submit",className:"mt-4 w-full cursor-pointer",disabled:r,children:[r&&s.jsx(N,{className:"h-4 w-4 animate-spin"}),"Register"]})]})})}function V({status:r,canResetPassword:o}){const[x,e]=h.useTransition(),[j,p]=h.useState(!1),d=E({mode:"onSubmit",defaultValues:{email:"",password:"",password_confirmation:"",name:""},resolver:L(C)});function b(w){try{e(async()=>{F.post(route("register"),w,{preserveScroll:!0,preserveState:!0,forceFormData:!0,onSuccess:()=>{d.reset(),u.success("Login Succes"),p(!1)},onError:a=>{console.error("Submit error:",a),u.error(`Error: ${Object.values(a).join(", ")}`),p(!1),d.reset()}})})}catch(a){console.error("Form submission error",a),u.error("Failed to submit the form. Please try again.")}}return s.jsx(s.Fragment,{children:s.jsxs(g,{module:"signup",loading:j,title:"Create your account",description:"Enter your email and password and name below to log in",children:[s.jsx(R,{form:d,onSubmit:b,isPending:j}),r&&s.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:r})]})})}export{V as default};
