import{j as s,R as h,m as F,t as u}from"./app-DD5dILCN.js";import{L as N,A as g}from"./auth-layout-DEbrm61d.js";import{F as S,a as t,b as n,c as l,d as i,e as c,f as m,u as L,s as E,r as C}from"./form-BOzyVGVs.js";import{I as f}from"./label-BrTgKEKN.js";import{P as b}from"./password-input-BrRcK-tx.js";import{B as v}from"./button-DpV8H5g9.js";import"./package-CE6PuMnR.js";import"./index-5N8s4Moj.js";function R({isPending:e,form:o,onSubmit:x}){return s.jsx(S,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(x),className:"space-y-7  w-full mx-auto ",children:[s.jsx(t,{disabled:e,control:o.control,name:"name",render:({field:r})=>s.jsxs(n,{children:[s.jsx(l,{children:"Full Name"}),s.jsx(i,{children:s.jsx(f,{placeholder:"name",type:"text",...r})}),s.jsx(c,{className:" sr-only ",children:"This is your public display name."}),s.jsx(m,{className:" "})]})}),s.jsx(t,{disabled:e,control:o.control,name:"email",render:({field:r})=>s.jsxs(n,{children:[s.jsx(l,{children:"Email"}),s.jsx(i,{children:s.jsx(f,{placeholder:"email",type:"email",...r})}),s.jsx(c,{className:"  sr-only",children:"This is your email address."}),s.jsx(m,{className:" "})]})}),s.jsx(t,{disabled:e,control:o.control,name:"password",render:({field:r})=>s.jsxs(n,{children:[s.jsx(l,{children:"Password "}),s.jsx(i,{children:s.jsx(b,{placeholder:"Password",...r})}),s.jsx(c,{className:" sr-only ",children:"Enter your password."}),s.jsx(m,{className:" "})]})}),s.jsx(t,{disabled:e,control:o.control,name:"password_confirmation",render:({field:r})=>s.jsxs(n,{children:[s.jsx(l,{children:"Confirm Password"}),s.jsx(i,{children:s.jsx(b,{placeholder:"Confirmation",...r})}),s.jsx(c,{className:"sr-only ",children:"Enter your password."}),s.jsx(m,{className:" "})]})}),s.jsxs(v,{type:"submit",className:"mt-4 w-full cursor-pointer",disabled:e,children:[e&&s.jsx(N,{className:"h-4 w-4 animate-spin"}),"Register"]})]})})}function O({status:e,canResetPassword:o}){const[x,r]=h.useTransition(),[j,p]=h.useState(!1),d=L({mode:"onSubmit",defaultValues:{email:"",password:"",password_confirmation:"",name:""},resolver:E(C)});function y(w){try{r(async()=>{F.post(route("register"),w,{preserveScroll:!0,preserveState:!0,forceFormData:!0,onSuccess:()=>{d.reset(),u.success("Login Succes"),p(!1)},onError:a=>{console.error("Submit error:",a),u.error(`Error: ${Object.values(a).join(", ")}`),p(!1),d.reset()}})})}catch(a){console.error("Form submission error",a),u.error("Failed to submit the form. Please try again.")}}return s.jsx(s.Fragment,{children:s.jsxs(g,{module:"signup",loading:j,title:"Create your account",description:"Enter your email and password and name below to log in",children:[s.jsx(R,{form:d,onSubmit:y,isPending:j}),e&&s.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:e})]})})}export{O as default};
