import{c}from"./createLucideIcon-Dp6y3OUS.js";import{j as e,R as M,m as P,r as p}from"./app-DzHLUL2G.js";import{S as E,g as B,h as L,i as q,j as A,w as G,x as H,B as C,y as U,C as O,z as X,A as K,E as Q,G as R,H as F,K as W,M as Y,N as Z,T as J,O as ee,Q as w,R as se,U as _,V as ae,W as z,X as te,Y as ne,Z as le,_ as oe,$ as ce,a0 as ie}from"./delete-tasks-dialog-rcNMy5-m.js";import{B as x,c as re}from"./button-Ty7zUxSx.js";import{I as de}from"./label-CcPfLjG-.js";import{e as he,z as xe,g as me,B as ge,o as pe,E as ue,n as je,X as fe}from"./site-header-D65uIcHh.js";import{C as ye}from"./index-CAf6fsRQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],we=c("ChevronLeft",Ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ve=c("ChevronRight",Ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ke=c("ChevronsLeft",Se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Me=c("ChevronsRight",be);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],N=c("CircleCheckBig",Re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_e=c("CirclePlus",Fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],v=c("CircleStop",ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Te=c("CircleX",Pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],We=c("Ellipsis",Ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ye=c("EyeOff",Ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],De=c("Settings2",$e);function Ee({table:s,serverPagination:a}){return e.jsxs("div",{className:"flex w-full flex-col-reverse items-center justify-between gap-4 overflow-auto p-1 sm:flex-row sm:gap-8",children:[e.jsxs("div",{className:"flex-1 whitespace-nowrap text-muted-foreground text-sm",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",(a==null?void 0:a.total)??s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex flex-col-reverse items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),e.jsxs(E,{value:`${s.getState().pagination.pageSize}`,onValueChange:l=>{s.setPageSize(Number(l))},children:[e.jsx(B,{className:"h-8 w-[70px]",children:e.jsx(L,{placeholder:s.getState().pagination.pageSize})}),e.jsx(q,{side:"top",children:[10,20,30,40,50].map(l=>e.jsx(A,{value:`${l}`,children:l},l))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",(a==null?void 0:a.currentPage)??s.getState().pagination.pageIndex+1," of"," ",(a==null?void 0:a.lastPage)??s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(x,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(ke,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(we,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(ve,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(Me,{className:"h-4 w-4"})]})]})]})]})}function Be({table:s}){return e.jsxs(he,{children:[e.jsx(xe,{asChild:!0,children:e.jsxs(x,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(De,{}),"View"]})}),e.jsxs(me,{align:"end",className:"w-[150px]",children:[e.jsx(ge,{children:"Toggle columns"}),e.jsx(pe,{}),s.getAllColumns().filter(a=>typeof a.accessorFn<"u"&&a.getCanHide()).map(a=>e.jsx(ue,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:l=>a.toggleVisibility(!!l),children:a.id},a.id))]})]})}function Le({column:s,title:a,options:l}){const i=s==null?void 0:s.getFacetedUniqueValues(),t=new Set(s==null?void 0:s.getFilterValue());return e.jsxs(G,{children:[e.jsx(H,{asChild:!0,children:e.jsxs(x,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(_e,{}),a,(t==null?void 0:t.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(je,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(C,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:t.size}),e.jsx("div",{className:"hidden gap-1 lg:flex",children:t.size>2?e.jsxs(C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[t.size," selected"]}):l.filter(n=>t.has(n.value)).map(n=>e.jsx(C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:n.label},n.value))})]})]})}),e.jsx(U,{className:"w-[200px] p-0",align:"start",children:e.jsxs(O,{children:[e.jsx(X,{placeholder:a}),e.jsxs(K,{children:[e.jsx(Q,{children:"No results found."}),e.jsx(R,{children:l.map(n=>{const m=t.has(n.value);return e.jsxs(F,{onSelect:()=>{m?t.delete(n.value):t.add(n.value);const d=Array.from(t);s==null||s.setFilterValue(d.length?d:void 0)},children:[e.jsx("div",{className:re("flex size-4 items-center justify-center rounded-[4px] border",m?"bg-primary border-primary text-primary-foreground":"border-input [&_svg]:invisible"),children:e.jsx(ye,{className:"text-primary-foreground size-3.5"})}),n.icon&&e.jsx(n.icon,{className:"text-muted-foreground size-4"}),e.jsx("span",{children:n.label}),(i==null?void 0:i.get(n.value))&&e.jsx("span",{className:"text-muted-foreground ml-auto flex size-4 items-center justify-center font-mono text-xs",children:i.get(n.value)})]},n.value)})}),t.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsx(R,{children:e.jsx(F,{onSelect:()=>s==null?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function qe({table:s,option:a,filters:l,getColums:i="name",createComponent:t}){const n=s.getState().columnFilters.length>0,d=window.location.pathname.split("/").filter(h=>h)[1],[u,f]=M.useState(l.search),y=M.useMemo(()=>Y.debounce(h=>{P.get(route(`dashboard.${d}.index`),{search:h},{preserveState:!0,preserveScroll:!0})},300),[u,d]);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[e.jsx(de,{placeholder:"Filter tasks...",value:u,onChange:h=>{const j=h.target.value;f(j),y(j)},className:"h-8 w-[150px] lg:w-[250px]"}),s.getColumn("status")&&e.jsx(Le,{column:s.getColumn("status"),title:"Status",options:a}),n&&e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>s.resetColumnFilters(),children:["Reset",e.jsx(fe,{})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{table:s}),t]})]})}function Ze({columns:s,option:a,data:l,pagination:i,filters:t,nas:n,createComponent:m,elections:d}){var k;const[u,f]=p.useState({}),[y,h]=p.useState({}),[j,T]=p.useState([]),[V,I]=p.useState([]),[S,$]=p.useState({pageIndex:i.currentPage-1,pageSize:i.perPage}),g=Z({data:l,columns:s,pageCount:i.lastPage,state:{sorting:V,columnVisibility:y,rowSelection:u,columnFilters:j,pagination:S},meta:{elections:d},manualPagination:!0,onRowSelectionChange:f,onSortingChange:I,onColumnFiltersChange:T,onColumnVisibilityChange:h,onPaginationChange:r=>{const o=typeof r=="function"?r(S):r;$(o);const b=window.location.pathname.split("/").filter(D=>D)[1];P.get(route(`dashboard.${b}.index`),{page:o.pageIndex+1,perPage:o.pageSize,search:t==null?void 0:t.search,filter:t==null?void 0:t.filter},{preserveState:!0,preserveScroll:!0,only:[b,"pagination"]})},getCoreRowModel:ie(),getFilteredRowModel:ce(),getPaginationRowModel:oe(),getSortedRowModel:le(),getFacetedRowModel:ne(),getFacetedUniqueValues:te()});return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(qe,{filters:t,getColums:n,createComponent:m,option:a,table:g}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(J,{children:[e.jsx(ee,{children:g.getHeaderGroups().map(r=>e.jsx(w,{children:r.headers.map(o=>e.jsx(se,{colSpan:o.colSpan,children:o.isPlaceholder?null:_(o.column.columnDef.header,o.getContext())},o.id))},r.id))}),e.jsx(ae,{children:(k=g.getRowModel().rows)!=null&&k.length?g.getRowModel().rows.map(r=>e.jsx(w,{"data-state":r.getIsSelected()&&"selected",children:r.getVisibleCells().map(o=>e.jsx(z,{children:_(o.column.columnDef.cell,o.getContext())},o.id))},r.id)):e.jsx(w,{children:e.jsx(z,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(Ee,{table:g,serverPagination:i})]})}const Je=[{value:"ongoing",label:"Ongoing",icon:N},{value:"ended",label:"Ended",icon:v},{value:"upcoming",label:"Upcoming",icon:Te}],es=[{value:"user",label:"User",icon:N},{value:"admind",label:"Admind",icon:v}],ss=[{value:"active",label:"Active",icon:N},{value:"inactive",label:"Inactive",icon:v}];export{ve as C,Ze as D,We as E,Ye as a,we as b,Je as c,es as r,ss as s};
