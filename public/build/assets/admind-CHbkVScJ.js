import{R as w,r as f,j as l,a as Qe,m as Ze,t as Ot}from"./app-hD4eGxiK.js";import{m as xe,F as $n,I as Zr,G as ea,J as ta,p as na,e as Gn,f as Wn,g as Hn,E as ra,u as aa,j as ia,k as oa,K as sa,L as la,h as vn,o as ca,U as ua,S as da,A as fa,a as ha,b as ga}from"./site-header-qr60j-9B.js";import{u as va,a as pa,b as ma,i as B,c as xa,d as ba,e as _e,w as pn,g as Kn,f as Un,h as Xn,C as Yn,j as Ce,L as Je,m as gt,k as Pt,A as ya,l as Te,n as mn,o as wa,p as xn,q as Ca,r as Sa,s as Da,G as ja,t as bn,v as yn,D as Aa,x as Ra,X as qn,Y as Ea,y as Na,z as Jn,B as Qn,E as Zn,F as er,H as tr,I as Oa,J as Pa,K as Ia,M as Ma,N as Ta,P as ka,T as za}from"./bar-chart-C2TQIa4Z.js";import{S as Lt,g as Ft,h as _t,i as Vt,j as Se,M as La,N as Fa,T as _a,O as Va,Q as Bt,R as Ba,U as nr,V as $a,W as rr,X as Ga,Y as Wa,Z as Ha,_ as Ka,$ as Ua,a0 as Xa,B as $t,D as Ya,a1 as qa,a2 as ke,a3 as Ja}from"./delete-tasks-dialog-BadLh0zk.js";import{u as qt,a as Qa,c as Za}from"./index-B6gQPD46.js";import{P as Gt}from"./index-0_V8QFO3.js";import{b as ar,d as ei,c as ir,B as De}from"./button-BdBng7Xy.js";import{C as wn}from"./checkbox-CfXYAjWL.js";import{I as ti,L as ni}from"./label-B1ULV7HA.js";import{C as ri,M as ai,V as ii,U as oi}from"./calon-update-sheet-CZfnPNwZ.js";import{I as si,a as li}from"./textarea-DtDCI67K.js";import{c as ci}from"./createLucideIcon-xWuXexB3.js";import"./app-logo-icon-df4ONgld.js";import"./chevron-down-Cr-hN6FN.js";import"./dialog-BV4yzBvh.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],di=ci("PersonStanding",ui);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fi=xe("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hi=xe("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gi=xe("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vi=xe("outline","chevrons-left","IconChevronsLeft",[["path",{d:"M11 7l-5 5l5 5",key:"svg-0"}],["path",{d:"M17 7l-5 5l5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pi=xe("outline","chevrons-right","IconChevronsRight",[["path",{d:"M7 7l5 5l-5 5",key:"svg-0"}],["path",{d:"M13 7l5 5l-5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mi=xe("outline","grip-vertical","IconGripVertical",[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xi=xe("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bi=xe("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]),yi=["x1","y1","x2","y2","key"],wi=["offset"];function Re(e){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cn(Object(n),!0).forEach(function(r){Ci(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ci(e,t,n){return t=Si(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e){var t=Di(e,"string");return Re(t)=="symbol"?t:t+""}function Di(e,t){if(Re(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Re(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Sn(e,t){if(e==null)return{};var n=ji(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ji(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ai=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,c=t.ry;return w.createElement("rect",{x:a,y:i,ry:c,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function or(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(_e(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,c=Sn(t,yi),d=Ce(c,!1);d.offset;var u=Sn(d,wi);n=w.createElement("line",je({},u,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:s}))}return n}function Ri(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var d=_(_({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(c),index:c});return or(a,d)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ei(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var d=_(_({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(c),index:c});return or(a,d)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ni(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=s.map(function(g){return Math.round(g+a-a)}).sort(function(g,v){return g-v});a!==u[0]&&u.unshift(0);var h=u.map(function(g,v){var y=!u[v+1],p=y?a+o-g:u[v+1]-g;if(p<=0)return null;var m=v%t.length;return w.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:p,width:i,stroke:"none",fill:t[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Oi(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var u=d.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==u[0]&&u.unshift(0);var h=u.map(function(g,v){var y=!u[v+1],p=y?i+s-g:u[v+1]-g;if(p<=0)return null;var m=v%r.length;return w.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:p,height:c,stroke:"none",fill:r[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Pi=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return Kn(Un(_(_(_({},Yn.defaultProps),r),{},{ticks:Xn(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},Ii=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return Kn(Un(_(_(_({},Yn.defaultProps),r),{},{ticks:Xn(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},ze={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sr(e){var t,n,r,a,i,o,s=va(),c=pa(),d=ma(),u=_(_({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ze.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:ze.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:ze.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ze.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ze.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ze.verticalFill,x:B(e.x)?e.x:d.left,y:B(e.y)?e.y:d.top,width:B(e.width)?e.width:d.width,height:B(e.height)?e.height:d.height}),h=u.x,g=u.y,v=u.width,y=u.height,p=u.syncWithTicks,m=u.horizontalValues,A=u.verticalValues,S=xa(),R=ba();if(!B(v)||v<=0||!B(y)||y<=0||!B(h)||h!==+h||!B(g)||g!==+g)return null;var j=u.verticalCoordinatesGenerator||Pi,D=u.horizontalCoordinatesGenerator||Ii,x=u.horizontalPoints,N=u.verticalPoints;if((!x||!x.length)&&_e(D)){var E=m&&m.length,O=D({yAxis:R?_(_({},R),{},{ticks:E?m:R.ticks}):void 0,width:s,height:c,offset:d},E?!0:p);pn(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Re(O),"]")),Array.isArray(O)&&(x=O)}if((!N||!N.length)&&_e(j)){var b=A&&A.length,C=j({xAxis:S?_(_({},S),{},{ticks:b?A:S.ticks}):void 0,width:s,height:c,offset:d},b?!0:p);pn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Re(C),"]")),Array.isArray(C)&&(N=C)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Ai,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),w.createElement(Ri,je({},u,{offset:d,horizontalPoints:x,xAxis:S,yAxis:R})),w.createElement(Ei,je({},u,{offset:d,verticalPoints:N,xAxis:S,yAxis:R})),w.createElement(Ni,je({},u,{horizontalPoints:x})),w.createElement(Oi,je({},u,{verticalPoints:N})))}sr.displayName="CartesianGrid";var Mi=["layout","type","stroke","connectNulls","isRange","ref"],Ti=["key"],lr;function Ve(e){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(e)}function cr(e,t){if(e==null)return{};var n=ki(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ki(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dn(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dr(r.key),r)}}function Li(e,t,n){return t&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fi(e,t,n){return t=xt(t),_i(e,ur()?Reflect.construct(t,n||[],xt(e).constructor):t.apply(e,n))}function _i(e,t){if(t&&(Ve(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vi(e)}function Vi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ur=function(){return!!e})()}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xt(e)}function Bi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wt(e,t)}function Wt(e,t){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Wt(e,t)}function te(e,t,n){return t=dr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e){var t=$i(e,"string");return Ve(t)=="symbol"?t:t+""}function $i(e,t){if(Ve(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ve(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var be=function(e){function t(){var n;zi(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Fi(this,t,[].concat(a)),te(n,"state",{isAnimationFinished:!0}),te(n,"id",Da("recharts-area-")),te(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(o)&&o()}),te(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(o)&&o()}),n}return Bi(t,e),Li(t,[{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,g=Ce(this.props,!1),v=Ce(d,!0),y=u.map(function(m,A){var S=pe(pe(pe({key:"dot-".concat(A),r:3},g),v),{},{index:A,cx:m.x,cy:m.y,dataKey:h,value:m.value,payload:m.payload,points:u});return t.renderDotItem(d,S)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return w.createElement(Je,Ae({className:"recharts-area-dots"},p),y)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=r*Math.abs(c-d),h=gt(o.map(function(g){return g.y||0}));return B(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(gt(i.map(function(g){return g.y||0})),h)),B(h)?w.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=r*Math.abs(c-d),h=gt(o.map(function(g){return g.x||0}));return B(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(gt(i.map(function(g){return g.x||0})),h)),B(h)?w.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,o){var s=this.props,c=s.layout,d=s.type,u=s.stroke,h=s.connectNulls,g=s.isRange;s.ref;var v=cr(s,Mi);return w.createElement(Je,{clipPath:i?"url(#clipPath-".concat(o,")"):null},w.createElement(Pt,Ae({},Ce(v,!0),{points:r,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&w.createElement(Pt,Ae({},Ce(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:r})),u!=="none"&&g&&w.createElement(Pt,Ae({},Ce(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,o=this.props,s=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,g=o.animationEasing,v=o.animationId,y=this.state,p=y.prevPoints,m=y.prevBaseLine;return w.createElement(ya,{begin:u,duration:h,isActive:d,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(p){var R=p.length/s.length,j=s.map(function(E,O){var b=Math.floor(O*R);if(p[b]){var C=p[b],M=Te(C.x,E.x),z=Te(C.y,E.y);return pe(pe({},E),{},{x:M(S),y:z(S)})}return E}),D;if(B(c)&&typeof c=="number"){var x=Te(m,c);D=x(S)}else if(mn(c)||wa(c)){var N=Te(m,0);D=N(S)}else D=c.map(function(E,O){var b=Math.floor(O*R);if(m[b]){var C=m[b],M=Te(C.x,E.x),z=Te(C.y,E.y);return pe(pe({},E),{},{x:M(S),y:z(S)})}return E});return i.renderAreaStatically(j,D,r,a)}return w.createElement(Je,null,w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(S))),w.createElement(Je,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(s,c,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,o=i.points,s=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,g=d.totalLength;return c&&o&&o.length&&(!u&&g>0||!xn(u,o)||!xn(h,s))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,s,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,s=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,g=a.yAxis,v=a.width,y=a.height,p=a.isAnimationActive,m=a.id;if(i||!s||!s.length)return null;var A=this.state.isAnimationFinished,S=s.length===1,R=ar("recharts-area",c),j=h&&h.allowDataOverflow,D=g&&g.allowDataOverflow,x=j||D,N=mn(m)?this.id:m,E=(r=Ce(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=E.r,b=O===void 0?3:O,C=E.strokeWidth,M=C===void 0?2:C,z=Ca(o)?o:{},G=z.clipDot,ce=G===void 0?!0:G,re=b*2+M;return w.createElement(Je,{className:R},j||D?w.createElement("defs",null,w.createElement("clipPath",{id:"clipPath-".concat(N)},w.createElement("rect",{x:j?u:u-v/2,y:D?d:d-y/2,width:j?v:v*2,height:D?y:y*2})),!ce&&w.createElement("clipPath",{id:"clipPath-dots-".concat(N)},w.createElement("rect",{x:u-re/2,y:d-re/2,width:v+re,height:y+re}))):null,S?null:this.renderArea(x,N),(o||S)&&this.renderDots(x,ce,N),(!p||A)&&Sa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(f.PureComponent);lr=be;te(be,"displayName","Area");te(be,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ja.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});te(be,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(B(s)&&typeof s=="number")return s;var c=a==="horizontal"?r:n,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return s==="dataMin"?h:s==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]});te(be,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,g=e.offset,v=t.layout,y=d&&d.length,p=lr.getBaseValue(t,n,r,a),m=v==="horizontal",A=!1,S=h.map(function(j,D){var x;y?x=d[u+D]:(x=bn(j,c),Array.isArray(x)?A=!0:x=[p,x]);var N=x[1]==null||y&&bn(j,c)==null;return m?{x:yn({axis:r,ticks:i,bandSize:s,entry:j,index:D}),y:N?null:a.scale(x[1]),value:x,payload:j}:{x:N?null:r.scale(x[1]),y:yn({axis:a,ticks:o,bandSize:s,entry:j,index:D}),value:x,payload:j}}),R;return y||A?R=S.map(function(j){var D=Array.isArray(j.value)?j.value[0]:null;return m?{x:j.x,y:D!=null&&j.y!=null?a.scale(D):null}:{x:D!=null?r.scale(D):null,y:j.y}}):R=m?a.scale(p):r.scale(p),pe({points:S,baseLine:R,layout:v,isRange:A},g)});te(be,"renderDotItem",function(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(_e(e))n=e(t);else{var r=ar("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=cr(t,Ti);n=w.createElement(Aa,Ae({},i,{key:a,className:r}))}return n});var Gi=Ra({chartName:"AreaChart",GraphicalChild:be,axisComponents:[{axisType:"xAxis",AxisComp:qn},{axisType:"yAxis",AxisComp:Ea}],formatAxisMap:Na});function An(e){const t={};return e.forEach(n=>{const r=new Date(n.created_at).toISOString().split("T")[0];t[r]=(t[r]||0)+1}),Object.entries(t).map(([n,r])=>({date:n,total:r})).sort((n,r)=>new Date(n.date).getTime()-new Date(r.date).getTime())}function Wi(e){const t={};return e.forEach(n=>{var i;const r=new Date(n.created_at).toISOString().split("T")[0],a=((i=n.calon)==null?void 0:i.nama)||`Kandidat ${n.calon_id}`;t[r]||(t[r]={total:0}),t[r][a]=(t[r][a]||0)+1,t[r].total+=1}),Object.entries(t).map(([n,r])=>({date:n,...r})).sort((n,r)=>new Date(n.date).getTime()-new Date(r.date).getTime())}function Hi(e,t){const n={},r=new Map(t.map(a=>[a.id,a.title]));return e.forEach(a=>{const i=new Date(a.created_at).toISOString().split("T")[0],o=r.get(a.election_id)||`Election ${a.election_id}`;n[i]||(n[i]={total:0}),n[i][o]=(n[i][o]||0)+1,n[i].total+=1}),Object.entries(n).map(([a,i])=>({date:a,...i})).sort((a,i)=>new Date(a.date).getTime()-new Date(i.date).getTime())}function Ki(e,t){const n=new Date,r=new Date(n.getTime()-t*24*60*60*1e3);return e.filter(a=>{const i=new Date(a.created_at);return i>=r&&i<=n})}function Ui(e,t="by-candidate",n){switch(t){case"by-candidate":return Wi(e);case"by-election":return n?Hi(e,n):An(e);default:return An(e)}}var fr="Toggle",hr=f.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...i}=e,[o,s]=qt({prop:n,onChange:a,defaultProp:r??!1,caller:fr});return l.jsx(Gt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Qa(e.onClick,()=>{e.disabled||s(!o)})})});hr.displayName=fr;var ye="ToggleGroup",[gr,sl]=Za(ye,[$n]),vr=$n(),Jt=w.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const a=r;return l.jsx(Xi,{...a,ref:t})}if(n==="multiple"){const a=r;return l.jsx(Yi,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${ye}\``)});Jt.displayName=ye;var[pr,mr]=gr(ye),Xi=w.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...i}=e,[o,s]=qt({prop:n,defaultProp:r??"",onChange:a,caller:ye});return l.jsx(pr,{scope:e.__scopeToggleGroup,type:"single",value:w.useMemo(()=>o?[o]:[],[o]),onItemActivate:s,onItemDeactivate:w.useCallback(()=>s(""),[s]),children:l.jsx(xr,{...i,ref:t})})}),Yi=w.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...i}=e,[o,s]=qt({prop:n,defaultProp:r??[],onChange:a,caller:ye}),c=w.useCallback(u=>s((h=[])=>[...h,u]),[s]),d=w.useCallback(u=>s((h=[])=>h.filter(g=>g!==u)),[s]);return l.jsx(pr,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:d,children:l.jsx(xr,{...i,ref:t})})});Jt.displayName=ye;var[qi,Ji]=gr(ye),xr=w.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:s=!0,...c}=e,d=vr(n),u=ea(o),h={role:"group",dir:u,...c};return l.jsx(qi,{scope:n,rovingFocus:a,disabled:r,children:a?l.jsx(ta,{asChild:!0,...d,orientation:i,dir:u,loop:s,children:l.jsx(Gt.div,{...h,ref:t})}):l.jsx(Gt.div,{...h,ref:t})})}),bt="ToggleGroupItem",br=w.forwardRef((e,t)=>{const n=mr(bt,e.__scopeToggleGroup),r=Ji(bt,e.__scopeToggleGroup),a=vr(e.__scopeToggleGroup),i=n.value.includes(e.value),o=r.disabled||e.disabled,s={...e,pressed:i,disabled:o},c=w.useRef(null);return r.rovingFocus?l.jsx(Zr,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:l.jsx(Rn,{...s,ref:t})}):l.jsx(Rn,{...s,ref:t})});br.displayName=bt;var Rn=w.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...a}=e,i=mr(bt,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=i.type==="single"?o:void 0;return l.jsx(hr,{...s,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(r):i.onItemDeactivate(r)}})}),Qi=Jt,Zi=br;const eo=ei("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),yr=f.createContext({size:"default",variant:"default"});function En({className:e,variant:t,size:n,children:r,...a}){return l.jsx(Qi,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:ir("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...a,children:l.jsx(yr.Provider,{value:{variant:t,size:n},children:r})})}function Le({className:e,children:t,variant:n,size:r,...a}){const i=f.useContext(yr);return l.jsx(Zi,{"data-slot":"toggle-group-item","data-variant":i.variant||n,"data-size":i.size||r,className:ir(eo({variant:i.variant||n,size:i.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...a,children:t})}const to=(e,t)=>{const n={total:{label:"Total Votes",color:"var(--primary)"}};if(t==="by-candidate"){const r=new Set;e.forEach(i=>{Object.keys(i).forEach(o=>{o!=="date"&&o!=="total"&&r.add(o)})});const a=["var(--primary)"];r.forEach((i,o)=>{n[i]={label:i,color:a[o%a.length]}})}if(t==="by-election"){const r=new Set;e.forEach(i=>{Object.keys(i).forEach(o=>{o!=="date"&&o!=="total"&&r.add(o)})});const a=["var(--primary)"];r.forEach((i,o)=>{n[i]={label:i,color:a[o%a.length]}})}return n};function no({votes:e=[],elections:t=[],chartType:n="total"}){const r=na(),[a,i]=f.useState("90d"),[o,s]=f.useState(n);f.useEffect(()=>{r&&i("7d")},[r]);const c=f.useMemo(()=>{let g=e;return g=Ki(e,a==="7d"?7:a==="30d"?30:90),Ui(g,o,t)},[e,t,a,o]),d=f.useMemo(()=>to(c,o),[c,o]),u=f.useMemo(()=>c.length===0?[]:Object.keys(c[0]).filter(g=>g!=="date"),[c]),h=u.map((g,v)=>{const y=d[g],p=(y==null?void 0:y.color)||"var(--primary)";return l.jsxs("linearGradient",{id:`fill${g.replace(/\s+/g,"")}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:p,stopOpacity:.8}),l.jsx("stop",{offset:"95%",stopColor:p,stopOpacity:.1})]},g)});return console.log(c),l.jsxs(Jn,{className:"@container/card",children:[l.jsxs(Qn,{children:[l.jsxs(Zn,{children:[o==="total"&&"Total Votes Over Time",o==="by-candidate"&&"Votes by Candidate",o==="by-election"&&"Votes by Election"]}),l.jsxs(er,{children:[l.jsx("span",{className:"hidden @[540px]/card:block",children:"Voting activity for the selected time period"}),l.jsx("span",{className:"@[540px]/card:hidden",children:"Voting activity"})]}),l.jsxs(tr,{className:"flex flex-col gap-2",children:[l.jsxs(En,{type:"single",value:o,onValueChange:g=>g&&s(g),variant:"outline",className:"hidden *:data-[slot=toggle-group-item]:!px-3 @[767px]/card:flex",children:[l.jsx(Le,{value:"total",children:"Total"}),l.jsx(Le,{value:"by-candidate",children:"By Candidate"}),l.jsx(Le,{value:"by-election",children:"By Election"})]}),l.jsxs(En,{type:"single",value:a,onValueChange:i,variant:"outline",className:"hidden *:data-[slot=toggle-group-item]:!px-4 @[767px]/card:flex",children:[l.jsx(Le,{value:"90d",children:"Last 3 months"}),l.jsx(Le,{value:"30d",children:"Last 30 days"}),l.jsx(Le,{value:"7d",children:"Last 7 days"})]}),l.jsxs("div",{className:"flex gap-2 @[767px]/card:hidden",children:[l.jsxs(Lt,{value:o,onValueChange:g=>s(g),children:[l.jsx(Ft,{className:"flex w-32",size:"sm",children:l.jsx(_t,{})}),l.jsxs(Vt,{className:"rounded-xl",children:[l.jsx(Se,{value:"total",children:"Total"}),l.jsx(Se,{value:"by-candidate",children:"By Candidate"}),l.jsx(Se,{value:"by-election",children:"By Election"})]})]}),l.jsxs(Lt,{value:a,onValueChange:i,children:[l.jsx(Ft,{className:"flex w-32",size:"sm",children:l.jsx(_t,{})}),l.jsxs(Vt,{className:"rounded-xl",children:[l.jsx(Se,{value:"90d",children:"3 months"}),l.jsx(Se,{value:"30d",children:"30 days"}),l.jsx(Se,{value:"7d",children:"7 days"})]})]})]})]})]}),l.jsx(Oa,{className:"px-2 pt-4 sm:px-6 sm:pt-6",children:l.jsx(Pa,{config:d,className:"aspect-auto h-[250px] w-full",children:l.jsxs(Gi,{data:c,children:[l.jsx("defs",{children:h}),l.jsx(sr,{vertical:!1}),l.jsx(qn,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),l.jsx(Ia,{cursor:!1,defaultIndex:r?-1:10,content:l.jsx(Ma,{labelFormatter:g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"}),indicator:"dot"})}),u.map((g,v)=>{const y=d[g],p=(y==null?void 0:y.color)||"var(--primary)",m=g.replace(/\s+/g,"");return l.jsx(be,{dataKey:g,type:"natural",fill:`url(#fill${m})`,stroke:p,stackId:"a",fillOpacity:.6},g)})]})})})]})}function ro(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Dt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Be(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Qt(e){return"nodeType"in e}function $(e){var t,n;return e?Be(e)?e:Qt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Zt(e){const{Document:t}=$(e);return e instanceof t}function ot(e){return Be(e)?!1:e instanceof $(e).HTMLElement}function wr(e){return e instanceof $(e).SVGElement}function $e(e){return e?Be(e)?e.document:Qt(e)?Zt(e)?e:ot(e)||wr(e)?e.ownerDocument:document:document:document}const ne=Dt?f.useLayoutEffect:f.useEffect;function en(e){const t=f.useRef(e);return ne(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function ao(){const e=f.useRef(null),t=f.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function rt(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return ne(()=>{n.current!==e&&(n.current=e)},t),n}function st(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function yt(e){const t=en(e),n=f.useRef(null),r=f.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function Ht(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let It={};function lt(e,t){return f.useMemo(()=>{if(t)return t;const n=It[e]==null?0:It[e]+1;return It[e]=n,e+"-"+n},[e,t])}function Cr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const s=Object.entries(o);for(const[c,d]of s){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const Fe=Cr(1),wt=Cr(-1);function io(e){return"clientX"in e&&"clientY"in e}function tn(e){if(!e)return!1;const{KeyboardEvent:t}=$(e.target);return t&&e instanceof t}function oo(e){if(!e)return!1;const{TouchEvent:t}=$(e.target);return t&&e instanceof t}function Kt(e){if(oo(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return io(e)?{x:e.clientX,y:e.clientY}:null}const at=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[at.Translate.toString(e),at.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Nn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function so(e){return e.matches(Nn)?e:e.querySelector(Nn)}const lo={display:"none"};function co(e){let{id:t,value:n}=e;return w.createElement("div",{id:t,style:lo},n)}function uo(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return w.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function fo(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Sr=f.createContext(null);function ho(e){const t=f.useContext(Sr);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function go(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var s;return(s=o[a])==null?void 0:s.call(o,i)})},[e]),t]}const vo={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},po={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function mo(e){let{announcements:t=po,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=vo}=e;const{announce:i,announcement:o}=fo(),s=lt("DndLiveRegion"),[c,d]=f.useState(!1);if(f.useEffect(()=>{d(!0)},[]),ho(f.useMemo(()=>({onDragStart(h){let{active:g}=h;i(t.onDragStart({active:g}))},onDragMove(h){let{active:g,over:v}=h;t.onDragMove&&i(t.onDragMove({active:g,over:v}))},onDragOver(h){let{active:g,over:v}=h;i(t.onDragOver({active:g,over:v}))},onDragEnd(h){let{active:g,over:v}=h;i(t.onDragEnd({active:g,over:v}))},onDragCancel(h){let{active:g,over:v}=h;i(t.onDragCancel({active:g,over:v}))}}),[i,t])),!c)return null;const u=w.createElement(w.Fragment,null,w.createElement(co,{id:r,value:a.draggable}),w.createElement(uo,{id:s,announcement:o}));return n?Qe.createPortal(u,n):u}var T;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(T||(T={}));function Ct(){}function Mt(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const J=Object.freeze({x:0,y:0});function bo(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function wo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Co(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function On(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const So=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=On(t,t.left,t.top),i=[];for(const o of r){const{id:s}=o,c=n.get(s);if(c){const d=bo(On(c),a);i.push({id:s,data:{droppableContainer:o,value:d}})}}return i.sort(yo)};function Do(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,s=i-n;if(r<a&&n<i){const c=t.width*t.height,d=e.width*e.height,u=o*s,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const jo=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,s=n.get(o);if(s){const c=Do(s,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(wo)};function Ao(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Dr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:J}function Ro(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...n})}}const Eo=Ro(1);function No(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Oo(e,t,n){const r=No(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:s}=r,c=e.left-o-(1-a)*parseFloat(n),d=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,h=i?e.height/i:e.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const Po={ignoreTransform:!1};function Ge(e,t){t===void 0&&(t=Po);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=$(e).getComputedStyle(e);d&&(n=Oo(n,d,u))}const{top:r,left:a,width:i,height:o,bottom:s,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:s,right:c}}function Pn(e){return Ge(e,{ignoreTransform:!0})}function Io(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Mo(e,t){return t===void 0&&(t=$(e).getComputedStyle(e)),t.position==="fixed"}function To(e,t){t===void 0&&(t=$(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function nn(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(Zt(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!ot(a)||wr(a)||n.includes(a))return n;const i=$(e).getComputedStyle(a);return a!==e&&To(a,i)&&n.push(a),Mo(a,i)?n:r(a.parentNode)}return e?r(e):n}function jr(e){const[t]=nn(e,1);return t??null}function Tt(e){return!Dt||!e?null:Be(e)?e:Qt(e)?Zt(e)||e===$e(e).scrollingElement?window:ot(e)?e:null:null}function Ar(e){return Be(e)?e.scrollX:e.scrollLeft}function Rr(e){return Be(e)?e.scrollY:e.scrollTop}function Ut(e){return{x:Ar(e),y:Rr(e)}}var k;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(k||(k={}));function Er(e){return!Dt||!e?!1:e===document.scrollingElement}function Nr(e){const t={x:0,y:0},n=Er(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:s,maxScroll:r,minScroll:t}}const ko={x:.2,y:.2};function zo(e,t,n,r,a){let{top:i,left:o,right:s,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=ko);const{isTop:d,isBottom:u,isLeft:h,isRight:g}=Nr(e),v={x:0,y:0},y={x:0,y:0},p={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+p.height?(v.y=k.Backward,y.y=r*Math.abs((t.top+p.height-i)/p.height)):!u&&c>=t.bottom-p.height&&(v.y=k.Forward,y.y=r*Math.abs((t.bottom-p.height-c)/p.height)),!g&&s>=t.right-p.width?(v.x=k.Forward,y.x=r*Math.abs((t.right-p.width-s)/p.width)):!h&&o<=t.left+p.width&&(v.x=k.Backward,y.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:v,speed:y}}function Lo(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Or(e){return e.reduce((t,n)=>Fe(t,Ut(n)),J)}function Fo(e){return e.reduce((t,n)=>t+Ar(n),0)}function _o(e){return e.reduce((t,n)=>t+Rr(n),0)}function Vo(e,t){if(t===void 0&&(t=Ge),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);jr(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Bo=[["x",["left","right"],Fo],["y",["top","bottom"],_o]];class rn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=nn(n),a=Or(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,s]of Bo)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=s(r),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class et{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function $o(e){const{EventTarget:t}=$(e);return e instanceof t?e:$e(e)}function kt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var q;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(q||(q={}));function In(e){e.preventDefault()}function Go(e){e.stopPropagation()}var P;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(P||(P={}));const Pr={start:[P.Space,P.Enter],cancel:[P.Esc],end:[P.Space,P.Enter,P.Tab]},Wo=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case P.Right:return{...n,x:n.x+25};case P.Left:return{...n,x:n.x-25};case P.Down:return{...n,y:n.y+25};case P.Up:return{...n,y:n.y-25}}};class an{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new et($e(n)),this.windowListeners=new et($(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(q.Resize,this.handleCancel),this.windowListeners.add(q.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(q.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Vo(r),n(J)}handleKeyDown(t){if(tn(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=Pr,coordinateGetter:o=Wo,scrollBehavior:s="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=r.current,u=d?{x:d.left,y:d.top}:J;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(t,{active:n,context:r.current,currentCoordinates:u});if(h){const g=wt(h,u),v={x:0,y:0},{scrollableAncestors:y}=r.current;for(const p of y){const m=t.code,{isTop:A,isRight:S,isLeft:R,isBottom:j,maxScroll:D,minScroll:x}=Nr(p),N=Lo(p),E={x:Math.min(m===P.Right?N.right-N.width/2:N.right,Math.max(m===P.Right?N.left:N.left+N.width/2,h.x)),y:Math.min(m===P.Down?N.bottom-N.height/2:N.bottom,Math.max(m===P.Down?N.top:N.top+N.height/2,h.y))},O=m===P.Right&&!S||m===P.Left&&!R,b=m===P.Down&&!j||m===P.Up&&!A;if(O&&E.x!==h.x){const C=p.scrollLeft+g.x,M=m===P.Right&&C<=D.x||m===P.Left&&C>=x.x;if(M&&!g.y){p.scrollTo({left:C,behavior:s});return}M?v.x=p.scrollLeft-C:v.x=m===P.Right?p.scrollLeft-D.x:p.scrollLeft-x.x,v.x&&p.scrollBy({left:-v.x,behavior:s});break}else if(b&&E.y!==h.y){const C=p.scrollTop+g.y,M=m===P.Down&&C<=D.y||m===P.Up&&C>=x.y;if(M&&!g.x){p.scrollTo({top:C,behavior:s});return}M?v.y=p.scrollTop-C:v.y=m===P.Down?p.scrollTop-D.y:p.scrollTop-x.y,v.y&&p.scrollBy({top:-v.y,behavior:s});break}}this.handleMove(t,Fe(wt(h,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}an.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Pr,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function Mn(e){return!!(e&&"distance"in e)}function Tn(e){return!!(e&&"delay"in e)}class on{constructor(t,n,r){var a;r===void 0&&(r=$o(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=$e(o),this.documentListeners=new et(this.document),this.listeners=new et(r),this.windowListeners=new et($(o)),this.initialCoordinates=(a=Kt(i))!=null?a:J,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(q.Resize,this.handleCancel),this.windowListeners.add(q.DragStart,In),this.windowListeners.add(q.VisibilityChange,this.handleCancel),this.windowListeners.add(q.ContextMenu,In),this.documentListeners.add(q.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Tn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Mn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(q.Click,Go,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(q.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:s}}=i;if(!a)return;const c=(n=Kt(t))!=null?n:J,d=wt(a,c);if(!r&&s){if(Mn(s)){if(s.tolerance!=null&&kt(d,s.tolerance))return this.handleCancel();if(kt(d,s.distance))return this.handleStart()}if(Tn(s)&&kt(d,s.tolerance))return this.handleCancel();this.handlePending(s,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===P.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ho={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ir extends on{constructor(t){const{event:n}=t,r=$e(n.target);super(t,Ho,r)}}Ir.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Ko={move:{name:"mousemove"},end:{name:"mouseup"}};var Xt;(function(e){e[e.RightClick=2]="RightClick"})(Xt||(Xt={}));class Mr extends on{constructor(t){super(t,Ko,$e(t.event.target))}}Mr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Xt.RightClick?!1:(r==null||r({event:n}),!0)}}];const zt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Tr extends on{constructor(t){super(t,zt)}static setup(){return window.addEventListener(zt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(zt.move.name,t)};function t(){}}}Tr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var tt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(tt||(tt={}));var St;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(St||(St={}));function Uo(e){let{acceleration:t,activator:n=tt.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:s=St.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:g}=e;const v=Yo({delta:h,disabled:!i}),[y,p]=ao(),m=f.useRef({x:0,y:0}),A=f.useRef({x:0,y:0}),S=f.useMemo(()=>{switch(n){case tt.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case tt.DraggableRect:return a}},[n,a,c]),R=f.useRef(null),j=f.useCallback(()=>{const x=R.current;if(!x)return;const N=m.current.x*A.current.x,E=m.current.y*A.current.y;x.scrollBy(N,E)},[]),D=f.useMemo(()=>s===St.TreeOrder?[...d].reverse():d,[s,d]);f.useEffect(()=>{if(!i||!d.length||!S){p();return}for(const x of D){if((r==null?void 0:r(x))===!1)continue;const N=d.indexOf(x),E=u[N];if(!E)continue;const{direction:O,speed:b}=zo(x,E,S,t,g);for(const C of["x","y"])v[C][O[C]]||(b[C]=0,O[C]=0);if(b.x>0||b.y>0){p(),R.current=x,y(j,o),m.current=b,A.current=O;return}}m.current={x:0,y:0},A.current={x:0,y:0},p()},[t,j,r,p,i,o,JSON.stringify(S),JSON.stringify(v),y,d,D,u,JSON.stringify(g)])}const Xo={x:{[k.Backward]:!1,[k.Forward]:!1},y:{[k.Backward]:!1,[k.Forward]:!1}};function Yo(e){let{delta:t,disabled:n}=e;const r=Ht(t);return st(a=>{if(n||!r||!a)return Xo;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[k.Backward]:a.x[k.Backward]||i.x===-1,[k.Forward]:a.x[k.Forward]||i.x===1},y:{[k.Backward]:a.y[k.Backward]||i.y===-1,[k.Forward]:a.y[k.Forward]||i.y===1}}},[n,t,r])}function qo(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return st(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function Jo(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var it;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(it||(it={}));var Yt;(function(e){e.Optimized="optimized"})(Yt||(Yt={}));const kn=new Map;function Qo(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=f.useState(null),{frequency:s,measure:c,strategy:d}=a,u=f.useRef(e),h=m(),g=rt(h),v=f.useCallback(function(A){A===void 0&&(A=[]),!g.current&&o(S=>S===null?A:S.concat(A.filter(R=>!S.includes(R))))},[g]),y=f.useRef(null),p=st(A=>{if(h&&!n)return kn;if(!A||A===kn||u.current!==e||i!=null){const S=new Map;for(let R of e){if(!R)continue;if(i&&i.length>0&&!i.includes(R.id)&&R.rect.current){S.set(R.id,R.rect.current);continue}const j=R.node.current,D=j?new rn(c(j),j):null;R.rect.current=D,D&&S.set(R.id,D)}return S}return A},[e,i,n,h,c]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{h||v()},[n,h]),f.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),f.useEffect(()=>{h||typeof s!="number"||y.current!==null||(y.current=setTimeout(()=>{v(),y.current=null},s))},[s,h,v,...r]),{droppableRects:p,measureDroppableContainers:v,measuringScheduled:i!=null};function m(){switch(d){case it.Always:return!1;case it.BeforeDragging:return n;default:return!n}}}function kr(e,t){return st(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Zo(e,t){return kr(e,t)}function es(e){let{callback:t,disabled:n}=e;const r=en(t),a=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return f.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function jt(e){let{callback:t,disabled:n}=e;const r=en(t),a=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return f.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function ts(e){return new rn(Ge(e),e)}function zn(e,t,n){t===void 0&&(t=ts);const[r,a]=f.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=es({callback(c){if(e)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),s=jt({callback:i});return ne(()=>{i(),e?(s==null||s.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[e]),r}function ns(e){const t=kr(e);return Dr(e,t)}const Ln=[];function rs(e){const t=f.useRef(e),n=st(r=>e?r&&r!==Ln&&e&&t.current&&e.parentNode===t.current.parentNode?r:nn(e):Ln,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function as(e){const[t,n]=f.useState(null),r=f.useRef(e),a=f.useCallback(i=>{const o=Tt(i.target);o&&n(s=>s?(s.set(o,Ut(o)),new Map(s)):null)},[]);return f.useEffect(()=>{const i=r.current;if(e!==i){o(i);const s=e.map(c=>{const d=Tt(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Ut(d)]):null}).filter(c=>c!=null);n(s.length?new Map(s):null),r.current=e}return()=>{o(e),o(i)};function o(s){s.forEach(c=>{const d=Tt(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Fe(i,o),J):Or(e):J,[e,t])}function Fn(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==J;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?wt(e,n.current):J}function is(e){f.useEffect(()=>{if(!Dt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function os(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function zr(e){return f.useMemo(()=>e?Io(e):null,[e])}const _n=[];function ss(e,t){t===void 0&&(t=Ge);const[n]=e,r=zr(n?$(n):null),[a,i]=f.useState(_n);function o(){i(()=>e.length?e.map(c=>Er(c)?r:new rn(t(c),c)):_n)}const s=jt({callback:o});return ne(()=>{s==null||s.disconnect(),o(),e.forEach(c=>s==null?void 0:s.observe(c))},[e]),a}function ls(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ot(t)?t:e}function cs(e){let{measure:t}=e;const[n,r]=f.useState(null),a=f.useCallback(d=>{for(const{target:u}of d)if(ot(u)){r(h=>{const g=t(u);return h?{...h,width:g.width,height:g.height}:g});break}},[t]),i=jt({callback:a}),o=f.useCallback(d=>{const u=ls(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?t(u):null)},[t,i]),[s,c]=yt(o);return f.useMemo(()=>({nodeRef:s,rect:n,setRef:c}),[n,s,c])}const us=[{sensor:Ir,options:{}},{sensor:an,options:{}}],ds={current:{}},mt={draggable:{measure:Pn},droppable:{measure:Pn,strategy:it.WhileDragging,frequency:Yt.Optimized},dragOverlay:{measure:Ge}};class nt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const fs={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ct},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:mt,measureDroppableContainers:Ct,windowRect:null,measuringScheduled:!1},hs={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ct,draggableNodes:new Map,over:null,measureDroppableContainers:Ct},At=f.createContext(hs),Lr=f.createContext(fs);function gs(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nt}}}function vs(e,t){switch(t.type){case T.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case T.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case T.DragEnd:case T.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case T.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new nt(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case T.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new nt(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case T.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new nt(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function ps(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=f.useContext(At),i=Ht(r),o=Ht(n==null?void 0:n.id);return f.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!tn(i)||document.activeElement===i.target)return;const s=a.get(o);if(!s)return;const{activatorNode:c,node:d}=s;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=so(u);if(h){h.focus();break}}})}},[r,t,a,o,i]),null}function ms(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function xs(e){return f.useMemo(()=>({draggable:{...mt.draggable,...e==null?void 0:e.draggable},droppable:{...mt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...mt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function bs(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=f.useRef(!1),{x:o,y:s}=typeof a=="boolean"?{x:a,y:a}:a;ne(()=>{if(!o&&!s||!t){i.current=!1;return}if(i.current||!r)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),h=Dr(u,r);if(o||(h.x=0),s||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const g=jr(d);g&&g.scrollBy({top:h.y,left:h.x})}},[t,o,s,r,n])}const Fr=f.createContext({...J,scaleX:1,scaleY:1});var me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(me||(me={}));const ys=f.memo(function(t){var n,r,a,i;let{id:o,accessibility:s,autoScroll:c=!0,children:d,sensors:u=us,collisionDetection:h=jo,measuring:g,modifiers:v,...y}=t;const p=f.useReducer(vs,void 0,gs),[m,A]=p,[S,R]=go(),[j,D]=f.useState(me.Uninitialized),x=j===me.Initialized,{draggable:{active:N,nodes:E,translate:O},droppable:{containers:b}}=m,C=N!=null?E.get(N):null,M=f.useRef({initial:null,translated:null}),z=f.useMemo(()=>{var F;return N!=null?{id:N,data:(F=C==null?void 0:C.data)!=null?F:ds,rect:M}:null},[N,C]),G=f.useRef(null),[ce,re]=f.useState(null),[W,ct]=f.useState(null),ae=rt(y,Object.values(y)),We=lt("DndDescribedBy",o),ut=f.useMemo(()=>b.getEnabled(),[b]),V=xs(g),{droppableRects:ie,measureDroppableContainers:we,measuringScheduled:He}=Qo(ut,{dragging:x,dependencies:[O.x,O.y],config:V.droppable}),X=qo(E,N),dt=f.useMemo(()=>W?Kt(W):null,[W]),ue=Qr(),oe=Zo(X,V.draggable.measure);bs({activeNode:N!=null?E.get(N):null,config:ue.layoutShiftCompensation,initialRect:oe,measure:V.draggable.measure});const I=zn(X,V.draggable.measure,oe),Ke=zn(X?X.parentElement:null),Q=f.useRef({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:b,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=b.getNodeFor((n=Q.current.over)==null?void 0:n.id),se=cs({measure:V.dragOverlay.measure}),Ne=(r=se.nodeRef.current)!=null?r:X,Oe=x?(a=se.rect)!=null?a:I:null,sn=!!(se.nodeRef.current&&se.rect),ln=ns(sn?null:I),Rt=zr(Ne?$(Ne):null),de=rs(x?Ee??X:null),ft=ss(de),ht=ms(v,{transform:{x:O.x-ln.x,y:O.y-ln.y,scaleX:1,scaleY:1},activatorEvent:W,active:z,activeNodeRect:I,containerNodeRect:Ke,draggingNodeRect:Oe,over:Q.current.over,overlayNodeRect:se.rect,scrollableAncestors:de,scrollableAncestorRects:ft,windowRect:Rt}),cn=dt?Fe(dt,O):null,un=as(de),Hr=Fn(un),Kr=Fn(un,[I]),Pe=Fe(ht,Hr),Ie=Oe?Eo(Oe,ht):null,Ue=z&&Ie?h({active:z,collisionRect:Ie,droppableRects:ie,droppableContainers:ut,pointerCoordinates:cn}):null,dn=Co(Ue,"id"),[fe,fn]=f.useState(null),Ur=sn?ht:Fe(ht,Kr),Xr=Ao(Ur,(i=fe==null?void 0:fe.rect)!=null?i:null,I),Et=f.useRef(null),hn=f.useCallback((F,H)=>{let{sensor:K,options:he}=H;if(G.current==null)return;const Y=E.get(G.current);if(!Y)return;const U=F.nativeEvent,Z=new K({active:G.current,activeNode:Y,event:U,options:he,context:Q,onAbort(L){if(!E.get(L))return;const{onDragAbort:ee}=ae.current,le={id:L};ee==null||ee(le),S({type:"onDragAbort",event:le})},onPending(L,ge,ee,le){if(!E.get(L))return;const{onDragPending:Ye}=ae.current,ve={id:L,constraint:ge,initialCoordinates:ee,offset:le};Ye==null||Ye(ve),S({type:"onDragPending",event:ve})},onStart(L){const ge=G.current;if(ge==null)return;const ee=E.get(ge);if(!ee)return;const{onDragStart:le}=ae.current,Xe={activatorEvent:U,active:{id:ge,data:ee.data,rect:M}};Qe.unstable_batchedUpdates(()=>{le==null||le(Xe),D(me.Initializing),A({type:T.DragStart,initialCoordinates:L,active:ge}),S({type:"onDragStart",event:Xe}),re(Et.current),ct(U)})},onMove(L){A({type:T.DragMove,coordinates:L})},onEnd:Me(T.DragEnd),onCancel:Me(T.DragCancel)});Et.current=Z;function Me(L){return async function(){const{active:ee,collisions:le,over:Xe,scrollAdjustedTranslate:Ye}=Q.current;let ve=null;if(ee&&Ye){const{cancelDrop:qe}=ae.current;ve={activatorEvent:U,active:ee,collisions:le,delta:Ye,over:Xe},L===T.DragEnd&&typeof qe=="function"&&await Promise.resolve(qe(ve))&&(L=T.DragCancel)}G.current=null,Qe.unstable_batchedUpdates(()=>{A({type:L}),D(me.Uninitialized),fn(null),re(null),ct(null),Et.current=null;const qe=L===T.DragEnd?"onDragEnd":"onDragCancel";if(ve){const Nt=ae.current[qe];Nt==null||Nt(ve),S({type:qe,event:ve})}})}}},[E]),Yr=f.useCallback((F,H)=>(K,he)=>{const Y=K.nativeEvent,U=E.get(he);if(G.current!==null||!U||Y.dndKit||Y.defaultPrevented)return;const Z={active:U};F(K,H.options,Z)===!0&&(Y.dndKit={capturedBy:H.sensor},G.current=he,hn(K,H))},[E,hn]),gn=Jo(u,Yr);is(u),ne(()=>{I&&j===me.Initializing&&D(me.Initialized)},[I,j]),f.useEffect(()=>{const{onDragMove:F}=ae.current,{active:H,activatorEvent:K,collisions:he,over:Y}=Q.current;if(!H||!K)return;const U={active:H,activatorEvent:K,collisions:he,delta:{x:Pe.x,y:Pe.y},over:Y};Qe.unstable_batchedUpdates(()=>{F==null||F(U),S({type:"onDragMove",event:U})})},[Pe.x,Pe.y]),f.useEffect(()=>{const{active:F,activatorEvent:H,collisions:K,droppableContainers:he,scrollAdjustedTranslate:Y}=Q.current;if(!F||G.current==null||!H||!Y)return;const{onDragOver:U}=ae.current,Z=he.get(dn),Me=Z&&Z.rect.current?{id:Z.id,rect:Z.rect.current,data:Z.data,disabled:Z.disabled}:null,L={active:F,activatorEvent:H,collisions:K,delta:{x:Y.x,y:Y.y},over:Me};Qe.unstable_batchedUpdates(()=>{fn(Me),U==null||U(L),S({type:"onDragOver",event:L})})},[dn]),ne(()=>{Q.current={activatorEvent:W,active:z,activeNode:X,collisionRect:Ie,collisions:Ue,droppableRects:ie,draggableNodes:E,draggingNode:Ne,draggingNodeRect:Oe,droppableContainers:b,over:fe,scrollableAncestors:de,scrollAdjustedTranslate:Pe},M.current={initial:Oe,translated:Ie}},[z,X,Ue,Ie,E,Ne,Oe,ie,b,fe,de,Pe]),Uo({...ue,delta:O,draggingRect:Ie,pointerCoordinates:cn,scrollableAncestors:de,scrollableAncestorRects:ft});const qr=f.useMemo(()=>({active:z,activeNode:X,activeNodeRect:I,activatorEvent:W,collisions:Ue,containerNodeRect:Ke,dragOverlay:se,draggableNodes:E,droppableContainers:b,droppableRects:ie,over:fe,measureDroppableContainers:we,scrollableAncestors:de,scrollableAncestorRects:ft,measuringConfiguration:V,measuringScheduled:He,windowRect:Rt}),[z,X,I,W,Ue,Ke,se,E,b,ie,fe,we,de,ft,V,He,Rt]),Jr=f.useMemo(()=>({activatorEvent:W,activators:gn,active:z,activeNodeRect:I,ariaDescribedById:{draggable:We},dispatch:A,draggableNodes:E,over:fe,measureDroppableContainers:we}),[W,gn,z,I,A,We,E,fe,we]);return w.createElement(Sr.Provider,{value:R},w.createElement(At.Provider,{value:Jr},w.createElement(Lr.Provider,{value:qr},w.createElement(Fr.Provider,{value:Xr},d)),w.createElement(ps,{disabled:(s==null?void 0:s.restoreFocus)===!1})),w.createElement(mo,{...s,hiddenTextDescribedById:We}));function Qr(){const F=(ce==null?void 0:ce.autoScrollEnabled)===!1,H=typeof c=="object"?c.enabled===!1:c===!1,K=x&&!F&&!H;return typeof c=="object"?{...c,enabled:K}:{enabled:K}}}),ws=f.createContext(null),Vn="button",Cs="Draggable";function Ss(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=lt(Cs),{activators:o,activatorEvent:s,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:g}=f.useContext(At),{role:v=Vn,roleDescription:y="draggable",tabIndex:p=0}=a??{},m=(c==null?void 0:c.id)===t,A=f.useContext(m?Fr:ws),[S,R]=yt(),[j,D]=yt(),x=os(o,t),N=rt(n);ne(()=>(h.set(t,{id:t,key:i,node:S,activatorNode:j,data:N}),()=>{const O=h.get(t);O&&O.key===i&&h.delete(t)}),[h,t]);const E=f.useMemo(()=>({role:v,tabIndex:p,"aria-disabled":r,"aria-pressed":m&&v===Vn?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[r,v,p,m,y,u.draggable]);return{active:c,activatorEvent:s,activeNodeRect:d,attributes:E,isDragging:m,listeners:r?void 0:x,node:S,over:g,setNodeRef:R,setActivatorNodeRef:D,transform:A}}function Ds(){return f.useContext(Lr)}const js="Droppable",As={timeout:25};function Rs(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=lt(js),{active:o,dispatch:s,over:c,measureDroppableContainers:d}=f.useContext(At),u=f.useRef({disabled:n}),h=f.useRef(!1),g=f.useRef(null),v=f.useRef(null),{disabled:y,updateMeasurementsFor:p,timeout:m}={...As,...a},A=rt(p??r),S=f.useCallback(()=>{if(!h.current){h.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(A.current)?A.current:[A.current]),v.current=null},m)},[m]),R=jt({callback:S,disabled:y||!o}),j=f.useCallback((E,O)=>{R&&(O&&(R.unobserve(O),h.current=!1),E&&R.observe(E))},[R]),[D,x]=yt(j),N=rt(t);return f.useEffect(()=>{!R||!D.current||(R.disconnect(),h.current=!1,R.observe(D.current))},[D,R]),f.useEffect(()=>(s({type:T.RegisterDroppable,element:{id:r,key:i,disabled:n,node:D,rect:g,data:N}}),()=>s({type:T.UnregisterDroppable,key:i,id:r})),[r]),f.useEffect(()=>{n!==u.current.disabled&&(s({type:T.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,s]),{active:o,rect:g,isOver:(c==null?void 0:c.id)===r,node:D,over:c,setNodeRef:x}}const Es=e=>{let{transform:t}=e;return{...t,x:0}};function _r(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ns(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function vt(e){return e!==null&&e>=0}function Os(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ps(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Vr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=_r(t,r,n),o=t[a],s=i[a];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},pt={scaleX:1,scaleY:1},Is=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const s=(t=i[n])!=null?t:r;if(!s)return null;if(a===n){const d=i[o];return d?{x:0,y:n<o?d.top+d.height-(s.top+s.height):d.top-s.top,...pt}:null}const c=Ms(i,a,n);return a>n&&a<=o?{x:0,y:-s.height-c,...pt}:a<n&&a>=o?{x:0,y:s.height+c,...pt}:{x:0,y:0,...pt}};function Ms(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const Br="Sortable",$r=w.createContext({activeIndex:-1,containerId:Br,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Vr,disabled:{draggable:!1,droppable:!1}});function Ts(e){let{children:t,id:n,items:r,strategy:a=Vr,disabled:i=!1}=e;const{active:o,dragOverlay:s,droppableRects:c,over:d,measureDroppableContainers:u}=Ds(),h=lt(Br,n),g=s.rect!==null,v=f.useMemo(()=>r.map(x=>typeof x=="object"&&"id"in x?x.id:x),[r]),y=o!=null,p=o?v.indexOf(o.id):-1,m=d?v.indexOf(d.id):-1,A=f.useRef(v),S=!Os(v,A.current),R=m!==-1&&p===-1||S,j=Ps(i);ne(()=>{S&&y&&u(v)},[S,v,y,u]),f.useEffect(()=>{A.current=v},[v]);const D=f.useMemo(()=>({activeIndex:p,containerId:h,disabled:j,disableTransforms:R,items:v,overIndex:m,useDragOverlay:g,sortedRects:Ns(v,c),strategy:a}),[p,h,j.draggable,j.droppable,R,v,m,c,g,a]);return w.createElement($r.Provider,{value:D},t)}const ks=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return _r(n,r,a).indexOf(t)},zs=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:s,previousContainerId:c,transition:d}=e;return!d||!r||s!==i&&a===o?!1:n?!0:o!==a&&t===c},Ls={duration:200,easing:"ease"},Gr="transform",Fs=at.Transition.toString({property:Gr,duration:0,easing:"linear"}),_s={roleDescription:"sortable"};function Vs(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=f.useState(null),s=f.useRef(n);return ne(()=>{if(!t&&n!==s.current&&r.current){const c=a.current;if(c){const d=Ge(r.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}n!==s.current&&(s.current=n)},[t,n,r,a]),f.useEffect(()=>{i&&o(null)},[i]),i}function Wr(e){let{animateLayoutChanges:t=zs,attributes:n,disabled:r,data:a,getNewIndex:i=ks,id:o,strategy:s,resizeObserverConfig:c,transition:d=Ls}=e;const{items:u,containerId:h,activeIndex:g,disabled:v,disableTransforms:y,sortedRects:p,overIndex:m,useDragOverlay:A,strategy:S}=f.useContext($r),R=Bs(r,v),j=u.indexOf(o),D=f.useMemo(()=>({sortable:{containerId:h,index:j,items:u},...a}),[h,a,j,u]),x=f.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:N,node:E,isOver:O,setNodeRef:b}=Rs({id:o,data:D,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...c}}),{active:C,activatorEvent:M,activeNodeRect:z,attributes:G,setNodeRef:ce,listeners:re,isDragging:W,over:ct,setActivatorNodeRef:ae,transform:We}=Ss({id:o,data:D,attributes:{..._s,...n},disabled:R.draggable}),ut=ro(b,ce),V=!!C,ie=V&&!y&&vt(g)&&vt(m),we=!A&&W,He=we&&ie?We:null,dt=ie?He??(s??S)({rects:p,activeNodeRect:z,activeIndex:g,overIndex:m,index:j}):null,ue=vt(g)&&vt(m)?i({id:o,items:u,activeIndex:g,overIndex:m}):j,oe=C==null?void 0:C.id,I=f.useRef({activeId:oe,items:u,newIndex:ue,containerId:h}),Ke=u!==I.current.items,Q=t({active:C,containerId:h,isDragging:W,isSorting:V,id:o,index:j,items:u,newIndex:I.current.newIndex,previousItems:I.current.items,previousContainerId:I.current.containerId,transition:d,wasDragging:I.current.activeId!=null}),Ee=Vs({disabled:!Q,index:j,node:E,rect:N});return f.useEffect(()=>{V&&I.current.newIndex!==ue&&(I.current.newIndex=ue),h!==I.current.containerId&&(I.current.containerId=h),u!==I.current.items&&(I.current.items=u)},[V,ue,h,u]),f.useEffect(()=>{if(oe===I.current.activeId)return;if(oe!=null&&I.current.activeId==null){I.current.activeId=oe;return}const Ne=setTimeout(()=>{I.current.activeId=oe},50);return()=>clearTimeout(Ne)},[oe]),{active:C,activeIndex:g,attributes:G,data:D,rect:N,index:j,newIndex:ue,items:u,isOver:O,isSorting:V,isDragging:W,listeners:re,node:E,overIndex:m,over:ct,setNodeRef:ut,setActivatorNodeRef:ae,setDroppableNodeRef:b,setDraggableNodeRef:ce,transform:Ee??dt,transition:se()};function se(){if(Ee||Ke&&I.current.newIndex===j)return Fs;if(!(we&&!tn(M)||!d)&&(V||Q))return at.Transition.toString({...d,property:Gr})}}function Bs(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}P.Down,P.Right,P.Up,P.Left;qa({id:Ja(),header:ke(),type:ke(),status:ke(),target:ke(),limit:ke(),reviewer:ke()});function $s({id:e}){const{attributes:t,listeners:n}=Wr({id:e});return l.jsxs(De,{...t,...n,variant:"ghost",size:"icon",className:"text-muted-foreground size-7 hover:bg-transparent",children:[l.jsx(mi,{className:"text-muted-foreground size-3"}),l.jsx("span",{className:"sr-only",children:"Drag to reorder"})]})}const Bn=[{id:"drag",header:()=>null,cell:({row:e})=>l.jsx($s,{id:e.original.id})},{id:"select",header:({table:e})=>l.jsx("div",{className:"flex items-center  w-14 justify-center",children:l.jsx(wn,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"})}),cell:({row:e})=>l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(wn,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row"})}),enableSorting:!1,enableHiding:!1},{accessorKey:"nama",header:"nama",cell:({row:e})=>{const t=aa();return l.jsxs("div",{className:"flex items-center w-45 gap-4  ",children:[l.jsxs(ia,{className:"  relative flex size-10 shrink-0 overflow-hidden rounded-full",children:[l.jsx(oa,{src:e.original.picture,alt:e.original.nama}),l.jsx(sa,{className:"rounded-lg  bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:t(e.original.nama)})]}),e.original.nama]})},enableHiding:!1},{accessorKey:"Election",header:"Election",cell:({row:e})=>{var t;return l.jsx("div",{className:"w-50",children:(t=e.original.elections)==null?void 0:t.title})}},{accessorKey:"voters",header:"voters",cell:({row:e})=>l.jsx("div",{className:"w-32",children:e.original.votes_count}),enableSorting:!0,enableHiding:!0},{accessorKey:"Class",header:"Class",cell:({row:e})=>l.jsx("div",{className:"w-32",children:e.original.kelas})},{accessorKey:"gender",header:"gender",cell:({row:e})=>l.jsx("div",{className:"w-32",children:l.jsxs($t,{variant:"outline",className:"text-muted-foreground px-1.5",children:[e.original.gender==="male"?l.jsx(ai,{}):l.jsx(ii,{}),e.original.gender]})})},{accessorKey:"status",header:"Status",cell:({row:e})=>l.jsx("div",{className:" w-32",children:l.jsxs($t,{variant:"outline",className:"text-muted-foreground px-1.5",children:[e.original.status==="active"?l.jsx(si,{className:"fill-green-500 dark:fill-green-400"}):l.jsx(li,{}),e.original.status]})})},{accessorKey:"Created At",header:"Created At",cell:({row:e})=>l.jsx("div",{className:"w-20",children:e.original.created_at?new Date(e.original.created_at).toLocaleDateString():"N/A"})},{id:"actions",cell:({row:e,table:t})=>{var g;const[n,r]=f.useState(!1),[a,i]=f.useState(!1),[o,s]=f.useState(!1),c=((g=t.options.meta)==null?void 0:g.elections)||[],[d,u]=f.useState(!1),h=v=>{try{u(!0),Ze.delete(route("dashboard.admind.destroy",{admind:v}),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{Ot.success("Calon deleted successfully"),s(!1)},onError:y=>{console.error("Delete error",y),Ot.error("Failed to delete the calon. Please try again.")},onFinish:()=>{u(!1)}})}catch(y){console.error("Delete error",y),Ot.error("Failed to delete the calon. Please try again.")}};return l.jsxs(l.Fragment,{children:[l.jsxs(Gn,{children:[l.jsx(Wn,{asChild:!0,children:l.jsxs(De,{variant:"ghost",className:"data-[state=open]:bg-muted text-muted-foreground flex size-8",size:"icon",children:[l.jsx(la,{}),l.jsx("span",{className:"sr-only",children:"Open menu"})]})}),l.jsxs(Hn,{align:"end",className:"w-32",children:[l.jsx(vn,{onSelect:()=>i(!0),children:"Edit"}),l.jsx(ca,{}),l.jsx(vn,{variant:"destructive",onSelect:()=>s(!0),children:"Delete"})]})]}),l.jsx(oi,{elections:c,task:e.original,open:a,onOpenChange:i}),l.jsx(Ya,{handledeDelete:h,processing:d,trigger:!1,students:e.original,open:o,onOpenChange:s})]})}}];function Gs({row:e}){const{transform:t,transition:n,setNodeRef:r,isDragging:a}=Wr({id:e.original.id});return l.jsx(Bt,{"data-state":e.getIsSelected()&&"selected","data-dragging":a,ref:r,className:"relative z-0 data-[dragging=true]:z-10 data-[dragging=true]:opacity-80",style:{transform:at.Transform.toString(t),transition:n},children:e.getVisibleCells().map(i=>l.jsx(rr,{children:nr(i.column.columnDef.cell,i.getContext())},i.id))})}function Ws({data:e,pagination:t,filters:n,elections:r}){var O;const[a,i]=f.useState({}),[o,s]=f.useState(n.search),[c,d]=f.useState(n.filter),u=f.useMemo(()=>La.debounce(b=>{Ze.get(route("dashboard.admind.index"),{search:b,filter:c},{preserveState:!0,preserveScroll:!0})},300),[c]),[h,g]=f.useState({}),[v,y]=f.useState([]),[p,m]=f.useState([]),[A,S]=f.useState({pageIndex:t.currentPage-1,pageSize:t.perPage}),R=f.useId(),j=xo(Mt(Mr,{}),Mt(Tr,{}),Mt(an,{})),D=f.useMemo(()=>(e==null?void 0:e.map(({id:b})=>b))||[],[e]),x=Fa({data:e,columns:Bn,state:{sorting:p,columnVisibility:h,rowSelection:a,columnFilters:v,pagination:A},meta:{elections:r},pageCount:t.lastPage,manualPagination:!0,getRowId:b=>b.id.toString(),enableRowSelection:!0,onRowSelectionChange:i,onSortingChange:m,onColumnFiltersChange:y,onColumnVisibilityChange:g,onPaginationChange:b=>{const C=typeof b=="function"?b(A):b;S(C),Ze.get(route("dashboard.admind.index"),{page:C.pageIndex+1},{preserveState:!0,preserveScroll:!0,only:["calon","pagination"]})},getCoreRowModel:Xa(),getFilteredRowModel:Ua(),getPaginationRowModel:Ka(),getSortedRowModel:Ha(),getFacetedRowModel:Wa(),getFacetedUniqueValues:Ga()});function N(b){const{active:C,over:M}=b;C&&M&&C.id!==M.id&&(D.indexOf(C.id),D.indexOf(M.id))}const E=b=>{b.preventDefault(),Ze.get(route("dashboard.admind.index"),{search:o,filter:c},{preserveState:!0,preserveScroll:!0})};return l.jsxs("section",{className:"flex flex-1 flex-col gap-4 px-4 lg:px-6",children:[l.jsx("header",{children:l.jsx("h1",{className:" font-semibold text-xl",children:"Candidate List"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:" flex items-center gap-2",children:l.jsx("form",{onSubmit:E,className:"relative flex-1",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ti,{type:"search",placeholder:"Search candidates...",value:o,onChange:b=>{const C=b.target.value;s(C),u(C)},className:"max-w-[20em] h-8 w-full md:w-[300px]"})})})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Gn,{children:[l.jsx(Wn,{asChild:!0,children:l.jsxs(De,{variant:"outline",className:"  space-x-2",size:"sm",children:[l.jsx(xi,{className:"hidden md:inline-flex  size-5"}),l.jsx("span",{className:"hidden lg:inline",children:"Customize Columns"}),l.jsx("span",{className:" hidden md:inline-flex  lg:hidden ",children:"Columns"}),l.jsx(fi,{className:"  size-5"})]})}),l.jsx(Hn,{align:"end",className:"w-56",children:x.getAllColumns().filter(b=>typeof b.accessorFn<"u"&&b.getCanHide()).map(b=>l.jsx(ra,{className:"capitalize",checked:b.getIsVisible(),onCheckedChange:C=>b.toggleVisibility(!!C),children:b.id},b.id))})]}),l.jsx(ri,{elections:r})]})]}),l.jsx("div",{className:"overflow-hidden rounded-lg border",children:l.jsx(ys,{collisionDetection:So,modifiers:[Es],onDragEnd:N,sensors:j,id:R,children:l.jsxs(_a,{children:[l.jsx(Va,{className:"bg-muted/20 sticky top-0 z-10",children:x.getHeaderGroups().map(b=>l.jsx(Bt,{children:b.headers.map(C=>l.jsx(Ba,{colSpan:C.colSpan,children:C.isPlaceholder?null:nr(C.column.columnDef.header,C.getContext())},C.id))},b.id))}),l.jsx($a,{className:"**:data-[slot=table-cell]:first:w-8",children:(O=x.getRowModel().rows)!=null&&O.length?l.jsx(Ts,{items:D,strategy:Is,children:x.getRowModel().rows.map(b=>l.jsx(Gs,{row:b},b.id))}):l.jsx(Bt,{children:l.jsx(rr,{colSpan:Bn.length,className:"h-24 text-center",children:o?`No results found for "${o}"`:"No candidates available."})})})]})})}),l.jsxs("div",{className:"flex items-center justify-between px-4",children:[l.jsxs("div",{className:"text-muted-foreground hidden flex-1 text-sm lg:flex",children:[x.getFilteredSelectedRowModel().rows.length," of"," ",x.getFilteredRowModel().rows.length," row(s) selected."]}),l.jsxs("div",{className:"flex w-full items-center gap-8 lg:w-fit",children:[l.jsxs("div",{className:"hidden items-center gap-2 lg:flex",children:[l.jsx(ni,{htmlFor:"rows-per-page",className:"text-sm font-medium",children:"Rows per page"}),l.jsxs(Lt,{value:`${A.pageSize}`,onValueChange:b=>{const C=Number(b);S(M=>({...M,pageSize:C})),Ze.get(route("dashboard.admind.index"),{perPage:C,page:1},{preserveState:!0,preserveScroll:!0,only:["calon","pagination"]})},children:[l.jsx(Ft,{className:"w-[70px]",children:l.jsx(_t,{placeholder:A.pageSize})}),l.jsx(Vt,{children:[10,20,30,40,50].map(b=>l.jsx(Se,{value:`${b}`,children:b},b))})]})]}),l.jsxs("div",{className:"flex w-fit items-center justify-center text-sm font-medium",children:["Page ",x.getState().pagination.pageIndex+1," of"," ",x.getPageCount()]}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 lg:ml-0",children:[l.jsxs(De,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>x.setPageIndex(0),disabled:!x.getCanPreviousPage(),children:[l.jsx("span",{className:"sr-only",children:"Go to first page"}),l.jsx(vi,{})]}),l.jsxs(De,{variant:"outline",className:"size-8",size:"icon",onClick:()=>x.previousPage(),disabled:!x.getCanPreviousPage(),children:[l.jsx("span",{className:"sr-only",children:"Go to previous page"}),l.jsx(hi,{})]}),l.jsxs(De,{variant:"outline",className:"size-8",size:"icon",onClick:()=>x.nextPage(),disabled:!x.getCanNextPage(),children:[l.jsx("span",{className:"sr-only",children:"Go to next page"}),l.jsx(gi,{})]}),l.jsxs(De,{variant:"outline",className:"hidden size-8 lg:flex",size:"icon",onClick:()=>x.setPageIndex(x.getPageCount()-1),disabled:!x.getCanNextPage(),children:[l.jsx("span",{className:"sr-only",children:"Go to last page"}),l.jsx(pi,{})]})]})]})]})]})}function Hs({votes:e,calon:t,elections:n}){const r=(e==null?void 0:e.length)||0,a=(t==null?void 0:t.length)||0;t!=null&&t.length;const i=[{title:"Vote",description:"Total votes casted in the election",value:r,icon:di,label:"Voters"},{title:"Candidates",description:"Total candidates running in the election",value:a,icon:ua,label:"Candidates"},{title:"Elections",description:"Total elections conducted",value:(n==null?void 0:n.length)||0,icon:bi,label:"Elections"}];return l.jsx("div",{className:"*:data-[slot=card]:from-primary/5 *:data-[slot=card]:to-card dark:*:data-[slot=card]:bg-card grid grid-cols-1 gap-4 px-4 *:data-[slot=card]:bg-gradient-to-t *:data-[slot=card]:shadow-xs lg:px-6 @xl/main:grid-cols-2 @5xl/main:grid-cols-3",children:i.map((o,s)=>l.jsxs(Jn,{className:"@container/card",children:[l.jsxs(Qn,{children:[l.jsx(er,{children:o.title}),l.jsx(Zn,{className:"text-2xl font-semibold tabular-nums @[250px]/card:text-3xl",children:o.value}),l.jsx(tr,{children:l.jsxs($t,{variant:"outline",children:[l.jsx(o.icon,{className:"size-4"}),o.label||"Votes"]})})]}),l.jsxs(Ta,{className:"flex-col items-start gap-1.5 text-sm",children:[l.jsxs("div",{className:"line-clamp-1 flex gap-2 font-medium",children:["Increase up this month ",l.jsx(o.icon,{className:"size-4"})]}),l.jsx("div",{className:"text-muted-foreground",children:o.description})]})]},s))})}function ll({calon:e,pagination:t,filters:n,flash:r,votes:a,elections:i}){return l.jsxs(da,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:[l.jsx(fa,{variant:"inset"}),l.jsxs(ha,{children:[l.jsx(ga,{siteName:"Dashboard"}),l.jsx("div",{className:"flex flex-1 flex-col",children:l.jsx("div",{className:"@container/main flex flex-1 flex-col gap-2",children:l.jsxs("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6",children:[l.jsx(Hs,{calon:e,elections:i,votes:a}),e.length>=2&&a.length>=1&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-4 lg:px-6",children:l.jsx(no,{votes:a,elections:i,chartType:"total"})}),l.jsxs("div",{className:"*:data-[slot=card]:from-primary/5 *:data-[slot=card]:to-card dark:*:data-[slot=card]:bg-card grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-4 *:data-[slot=card]:bg-gradient-to-t *:data-[slot=card]:shadow-xs lg:px-6 @xl/main:grid-cols-2 ",children:[l.jsx(ka,{calon:e}),l.jsx(za,{calon:e})]})]}),l.jsx(Ws,{elections:i,filters:n,data:e,pagination:t})]})})})]})]})}export{ll as default};
