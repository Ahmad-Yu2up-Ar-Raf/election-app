import{a as r,B as x,c as B}from"./button-BOrXaaHL.js";import{j as e,R,m as _,r as p}from"./app-CXSJomay.js";import{S as E,a as L,b as q,c as A,d as G,P as H,r as U,B as y,s as X,C as O,t as J,v as K,w as Q,x as M,y as F,N as W,l as Y,u as Z,T as ee,e as se,f as w,g as ae,h as z,i as te,j as P,k as ne,m as le,n as ce,o as oe,p as ie,q as re}from"./delete-tasks-dialog-Cl8jktGP.js";import{I as de}from"./label-_Kkhdhia.js";import{D as he,z as xe,b as me,B as ge,i as pe,d as ue,C as je,X as fe}from"./site-header-j6zwA2q1.js";import{C as Ce}from"./index-xWzCG7Mf.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],we=r("ChevronLeft",ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ne=r("ChevronRight",ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ke=r("ChevronsLeft",Se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Re=r("ChevronsRight",be);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],v=r("CircleCheckBig",Me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ze=r("CirclePlus",Fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],N=r("CircleStop",Pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Te=r("CircleX",_e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Je=r("Ellipsis",Ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ie=r("Settings2",De);function $e({table:s,serverPagination:a}){return e.jsxs("div",{className:"flex w-full flex-col-reverse items-center justify-between gap-4 overflow-auto p-1 sm:flex-row sm:gap-8",children:[e.jsxs("div",{className:"flex-1 whitespace-nowrap text-muted-foreground text-sm",children:[s.getFilteredSelectedRowModel().rows.length," of"," ",(a==null?void 0:a.total)??s.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex flex-col-reverse items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),e.jsxs(E,{value:`${s.getState().pagination.pageSize}`,onValueChange:l=>{s.setPageSize(Number(l))},children:[e.jsx(L,{className:"h-8 w-[70px]",children:e.jsx(q,{placeholder:s.getState().pagination.pageSize})}),e.jsx(A,{side:"top",children:[10,20,30,40,50].map(l=>e.jsx(G,{value:`${l}`,children:l},l))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",(a==null?void 0:a.currentPage)??s.getState().pagination.pageIndex+1," of"," ",(a==null?void 0:a.lastPage)??s.getPageCount()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(x,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to first page"}),e.jsx(ke,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to previous page"}),e.jsx(we,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to next page"}),e.jsx(Ne,{className:"h-4 w-4"})]}),e.jsxs(x,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:"Go to last page"}),e.jsx(Re,{className:"h-4 w-4"})]})]})]})]})}function Be({table:s}){return e.jsxs(he,{children:[e.jsx(xe,{asChild:!0,children:e.jsxs(x,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(Ie,{}),"View"]})}),e.jsxs(me,{align:"end",className:"w-[150px]",children:[e.jsx(ge,{children:"Toggle columns"}),e.jsx(pe,{}),s.getAllColumns().filter(a=>typeof a.accessorFn<"u"&&a.getCanHide()).map(a=>e.jsx(ue,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:l=>a.toggleVisibility(!!l),children:a.id},a.id))]})]})}function Ee({column:s,title:a,options:l}){const o=s==null?void 0:s.getFacetedUniqueValues(),t=new Set(s==null?void 0:s.getFilterValue());return e.jsxs(H,{children:[e.jsx(U,{asChild:!0,children:e.jsxs(x,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(ze,{}),a,(t==null?void 0:t.size)>0&&e.jsxs(e.Fragment,{children:[e.jsx(je,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(y,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:t.size}),e.jsx("div",{className:"hidden gap-1 lg:flex",children:t.size>2?e.jsxs(y,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[t.size," selected"]}):l.filter(n=>t.has(n.value)).map(n=>e.jsx(y,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:n.label},n.value))})]})]})}),e.jsx(X,{className:"w-[200px] p-0",align:"start",children:e.jsxs(O,{children:[e.jsx(J,{placeholder:a}),e.jsxs(K,{children:[e.jsx(Q,{children:"No results found."}),e.jsx(M,{children:l.map(n=>{const m=t.has(n.value);return e.jsxs(F,{onSelect:()=>{m?t.delete(n.value):t.add(n.value);const d=Array.from(t);s==null||s.setFilterValue(d.length?d:void 0)},children:[e.jsx("div",{className:B("flex size-4 items-center justify-center rounded-[4px] border",m?"bg-primary border-primary text-primary-foreground":"border-input [&_svg]:invisible"),children:e.jsx(Ce,{className:"text-primary-foreground size-3.5"})}),n.icon&&e.jsx(n.icon,{className:"text-muted-foreground size-4"}),e.jsx("span",{children:n.label}),(o==null?void 0:o.get(n.value))&&e.jsx("span",{className:"text-muted-foreground ml-auto flex size-4 items-center justify-center font-mono text-xs",children:o.get(n.value)})]},n.value)})}),t.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsx(M,{children:e.jsx(F,{onSelect:()=>s==null?void 0:s.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Le({table:s,option:a,filters:l,getColums:o="name",createComponent:t}){const n=s.getState().columnFilters.length>0,d=window.location.pathname.split("/").filter(h=>h)[1],[u,f]=R.useState(l.search),C=R.useMemo(()=>Y.debounce(h=>{_.get(route(`dashboard.${d}.index`),{search:h},{preserveState:!0,preserveScroll:!0})},300),[u,d]);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[e.jsx(de,{placeholder:"Filter tasks...",value:u,onChange:h=>{const j=h.target.value;f(j),C(j)},className:"h-8 w-[150px] lg:w-[250px]"}),s.getColumn("status")&&e.jsx(Ee,{column:s.getColumn("status"),title:"Status",options:a}),n&&e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>s.resetColumnFilters(),children:["Reset",e.jsx(fe,{})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{table:s}),t]})]})}function Ke({columns:s,option:a,data:l,pagination:o,filters:t,nas:n,createComponent:m,elections:d}){var k;const[u,f]=p.useState({}),[C,h]=p.useState({}),[j,T]=p.useState([]),[V,D]=p.useState([]),[S,I]=p.useState({pageIndex:o.currentPage-1,pageSize:o.perPage}),g=Z({data:l,columns:s,pageCount:o.lastPage,state:{sorting:V,columnVisibility:C,rowSelection:u,columnFilters:j,pagination:S},meta:{elections:d},manualPagination:!0,onRowSelectionChange:f,onSortingChange:D,onColumnFiltersChange:T,onColumnVisibilityChange:h,onPaginationChange:i=>{const c=typeof i=="function"?i(S):i;I(c);const b=window.location.pathname.split("/").filter($=>$)[1];_.get(route(`dashboard.${b}.index`),{page:c.pageIndex+1,perPage:c.pageSize,search:t==null?void 0:t.search,filter:t==null?void 0:t.filter},{preserveState:!0,preserveScroll:!0,only:[b,"pagination"]})},getCoreRowModel:re(),getFilteredRowModel:ie(),getPaginationRowModel:oe(),getSortedRowModel:ce(),getFacetedRowModel:le(),getFacetedUniqueValues:ne()});return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(Le,{filters:t,getColums:n,createComponent:m,option:a,table:g}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(ee,{children:[e.jsx(se,{children:g.getHeaderGroups().map(i=>e.jsx(w,{children:i.headers.map(c=>e.jsx(ae,{colSpan:c.colSpan,children:c.isPlaceholder?null:z(c.column.columnDef.header,c.getContext())},c.id))},i.id))}),e.jsx(te,{children:(k=g.getRowModel().rows)!=null&&k.length?g.getRowModel().rows.map(i=>e.jsx(w,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(c=>e.jsx(P,{children:z(c.column.columnDef.cell,c.getContext())},c.id))},i.id)):e.jsx(w,{children:e.jsx(P,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx($e,{table:g,serverPagination:o})]})}const Qe=[{value:"ongoing",label:"Ongoing",icon:v},{value:"ended",label:"Ended",icon:N},{value:"upcoming",label:"Upcoming",icon:Te}],We=[{value:"user",label:"User",icon:v},{value:"admind",label:"Admind",icon:N}],Ye=[{value:"active",label:"Active",icon:v},{value:"inactive",label:"Inactive",icon:N}];export{we as C,Ke as D,Je as E,Ne as a,Qe as b,We as r,Ye as s};
